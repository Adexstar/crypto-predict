# Visual Architecture Guide - Retail Investment App

## System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER INTERFACE                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  MAIN DASHBOARD        â”‚      â”‚   DASHBOARD-INVEST        â”‚
  â”‚  (existing)            â”‚      â”‚   (NEW - Retail)          â”‚
  â”‚                        â”‚      â”‚                           â”‚
  â”‚ - Navigation menu      â”‚â”€â”€â–º   â”‚ - Total wealth: $12.5k    â”‚
  â”‚ - "Spot Trading" link  â”‚      â”‚ - Quick Actions           â”‚
  â”‚ - Other sections       â”‚      â”‚ - Portfolio cards         â”‚
  â”‚                        â”‚      â”‚ - USD Wallet              â”‚
  â”‚                        â”‚      â”‚ - Real-time prices (5s)   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚                           â”‚
                                   â”‚ [Click crypto card]       â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                   â”‚
                                                   â–¼
                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚   TRADE.HTML              â”‚
                                   â”‚   (Single Asset)          â”‚
                                   â”‚                           â”‚
                                   â”‚ - BTC price display       â”‚
                                   â”‚ - 24h chart               â”‚
                                   â”‚ - High/Low/Change %       â”‚
                                   â”‚ - Buy/Sell tabs           â”‚
                                   â”‚ - Order forms             â”‚
                                   â”‚ - User holdings           â”‚
                                   â”‚                           â”‚
                                   â”‚ [Place Order]             â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                                               â–¼
                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚  BACK TO DASHBOARD        â”‚
                                   â”‚  (Portfolio Updated)      â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      API LAYER (Backend)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Trading Routes â”‚      â”‚  Order Executor  â”‚     â”‚ Prisma ORM â”‚
  â”‚                â”‚      â”‚                  â”‚     â”‚            â”‚
  â”‚ GET /portfolio â”‚â”€â”€â”€â”€â”€â–ºâ”‚ CoinGecko API    â”‚â”€â”€â”€â”€â–ºâ”‚ Database   â”‚
  â”‚ GET /markets   â”‚      â”‚ (every 30s)      â”‚     â”‚            â”‚
  â”‚ GET /markets/{} â”‚      â”‚                  â”‚     â”‚ Models:    â”‚
  â”‚ POST /orders   â”‚      â”‚ Match Orders     â”‚     â”‚ - Portfolioâ”‚
  â”‚ DELETE /orders â”‚      â”‚ (every 10s)      â”‚     â”‚ - Market   â”‚
  â”‚                â”‚      â”‚                  â”‚     â”‚ - Order    â”‚
  â”‚                â”‚      â”‚ Execute Trades   â”‚     â”‚ - Trade    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DATA FLOW (Real-Time)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  CoinGecko API
        â”‚
        â”‚ (fetch latest prices)
        â”‚ (every 30 seconds)
        â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Order Executor   â”‚
  â”‚                  â”‚
  â”‚ 1. Get prices    â”‚
  â”‚ 2. Update DB     â”‚
  â”‚ 3. Match orders  â”‚
  â”‚ 4. Execute       â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â–º CryptoMarket table (latest prices)
           â”œâ”€â–º Order table (pending orders)
           â””â”€â–º Trade table (executed trades)
                       â”‚
                       â”‚
                       â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Frontend fetches (every 5 seconds)   â”‚
  â”‚                                      â”‚
  â”‚ - /api/trading/portfolio             â”‚
  â”‚ - /api/trading/markets               â”‚
  â”‚ - /api/trading/markets/{symbol}      â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Dashboard Updates                    â”‚
  â”‚                                      â”‚
  â”‚ - User sees latest prices            â”‚
  â”‚ - Portfolio reflects trades          â”‚
  â”‚ - Holdings update                    â”‚
  â”‚ - Balance changes                    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component Hierarchy

```
ROOT
â”‚
â”œâ”€â”€ index.html (Main landing/auth page)
â”‚   â””â”€ On login â†’ Goes to dashboard.html
â”‚
â”œâ”€â”€ dashboard.html (Main dashboard - EXISTING)
â”‚   â””â”€ Navigation menu
â”‚       â””â”€ "Spot Trading" link
â”‚           â””â”€ dashboard-invest.html â—„â”€â”€ NEW
â”‚               â”‚
â”‚               â”œâ”€ Total Wealth Display
â”‚               â”‚  â””â”€ Calculated from portfolio assets
â”‚               â”‚
â”‚               â”œâ”€ Quick Actions Section
â”‚               â”‚  â”œâ”€ Add Money button â†’ deposit.html
â”‚               â”‚  â””â”€ Withdraw button â†’ withdraw.html
â”‚               â”‚
â”‚               â”œâ”€ Portfolio Section
â”‚               â”‚  â””â”€ Asset Cards (clickable)
â”‚               â”‚      â”‚
â”‚               â”‚      â”œâ”€ Card properties:
â”‚               â”‚      â”‚  â”œâ”€ Symbol (BTC)
â”‚               â”‚      â”‚  â”œâ”€ Amount (0.5)
â”‚               â”‚      â”‚  â”œâ”€ Current price ($45k)
â”‚               â”‚      â”‚  â””â”€ Total value ($22.5k)
â”‚               â”‚      â”‚
â”‚               â”‚      â””â”€ On click â†’ trade.html?symbol=BTC
â”‚               â”‚          â”‚
â”‚               â”‚          â””â”€ trade.html â—„â”€â”€ REDESIGNED
â”‚               â”‚              â”‚
â”‚               â”‚              â”œâ”€ Header
â”‚               â”‚              â”‚  â”œâ”€ Back button
â”‚               â”‚              â”‚  â”œâ”€ Symbol
â”‚               â”‚              â”‚  â””â”€ Favorite
â”‚               â”‚              â”‚
â”‚               â”‚              â”œâ”€ Price Section
â”‚               â”‚              â”‚  â”œâ”€ Current price
â”‚               â”‚              â”‚  â”œâ”€ 24h change %
â”‚               â”‚              â”‚  â””â”€ Market status
â”‚               â”‚              â”‚
â”‚               â”‚              â”œâ”€ Chart Section
â”‚               â”‚              â”‚  â””â”€ 7-day line chart
â”‚               â”‚              â”‚
â”‚               â”‚              â”œâ”€ Stats
â”‚               â”‚              â”‚  â”œâ”€ 24h High
â”‚               â”‚              â”‚  â””â”€ 24h Low
â”‚               â”‚              â”‚
â”‚               â”‚              â”œâ”€ Holdings Display
â”‚               â”‚              â”‚  â””â”€ User's crypto amount
â”‚               â”‚              â”‚
â”‚               â”‚              â”œâ”€ Tabs
â”‚               â”‚              â”‚  â”œâ”€ Buy tab
â”‚               â”‚              â”‚  â””â”€ Sell tab
â”‚               â”‚              â”‚
â”‚               â”‚              â””â”€ Forms
â”‚               â”‚                 â”œâ”€ Amount input
â”‚               â”‚                 â”œâ”€ Quick buttons
â”‚               â”‚                 â”œâ”€ Receive calculation
â”‚               â”‚                 â””â”€ Action buttons
â”‚               â”‚
â”‚               â””â”€ USD Wallet Section
â”‚                  â””â”€ Cash balance
â”‚
â””â”€â”€ Other pages (unchanged)
    â”œâ”€ deposit.html
    â”œâ”€ withdraw.html
    â”œâ”€ profile.html
    â”œâ”€ settings.html
    â””â”€ etc...
```

---

## State Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Login  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Load Main        â”‚
â”‚ Dashboard        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Click "Spot Trading"
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Dashboard-Invest Loads       â”‚
â”‚                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Load Portfolio Data   â”‚    â”‚
â”‚ â”‚ - Get user assets     â”‚    â”‚
â”‚ â”‚ - Calculate wealth    â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚          â”‚                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Load Market Prices    â”‚    â”‚
â”‚ â”‚ - Get all cryptos     â”‚    â”‚
â”‚ â”‚ - Store in memory     â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚          â”‚                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Render Dashboard      â”‚    â”‚
â”‚ â”‚ - Display holdings    â”‚    â”‚
â”‚ â”‚ - Show prices         â”‚    â”‚
â”‚ â”‚ - Create cards        â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚          â”‚                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Start Auto-Refresh    â”‚    â”‚
â”‚ â”‚ - Every 5 seconds     â”‚    â”‚
â”‚ â”‚ - Update prices       â”‚    â”‚
â”‚ â”‚ - Update portfolio    â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                              â”‚
â”‚ âœ… Dashboard Ready           â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ User clicks crypto card
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Trade.html Loads             â”‚
â”‚                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Read URL parameter    â”‚    â”‚
â”‚ â”‚ Extract: symbol=BTC   â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚          â”‚                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Load Market Data      â”‚    â”‚
â”‚ â”‚ - Fetch BTC/USDT      â”‚    â”‚
â”‚ â”‚ - Get price/stats     â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚          â”‚                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Load Portfolio        â”‚    â”‚
â”‚ â”‚ - Get BTC holdings    â”‚    â”‚
â”‚ â”‚ - Get USDT balance    â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚          â”‚                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Setup Chart           â”‚    â”‚
â”‚ â”‚ - Create 7-day data   â”‚    â”‚
â”‚ â”‚ - Render with Chart.jsâ”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚          â”‚                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Setup Event Listeners â”‚    â”‚
â”‚ â”‚ - Input calculations  â”‚    â”‚
â”‚ â”‚ - Button handlers     â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚          â”‚                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Start Auto-Refresh    â”‚    â”‚
â”‚ â”‚ - Every 5 seconds     â”‚    â”‚
â”‚ â”‚ - Update price & data â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                              â”‚
â”‚ âœ… Trading View Ready        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ User enters amount & clicks Buy
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Execute Buy Order            â”‚
â”‚                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Validate Amount       â”‚    â”‚
â”‚ â”‚ - Check > 0           â”‚    â”‚
â”‚ â”‚ - Check not empty     â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚          â”‚                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Send Order to API     â”‚    â”‚
â”‚ â”‚ - POST /trading/ordersâ”‚    â”‚
â”‚ â”‚ - Include symbol, qty â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚          â”‚                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Wait for Response     â”‚    â”‚
â”‚ â”‚ - Success or error    â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚          â”‚                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Show Result           â”‚    â”‚
â”‚ â”‚ - "Order placed!" âœ…  â”‚    â”‚
â”‚ â”‚ - Or error âŒ         â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚          â”‚                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Back to Dashboard     â”‚    â”‚
â”‚ â”‚ - Reload portfolio    â”‚    â”‚
â”‚ â”‚ - Show updated assets â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                              â”‚
â”‚ âœ… Order Complete            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## User Experience Flow

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   User Wants to     â”‚
                    â”‚   Buy Some Bitcoin  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Opens App          â”‚
                    â”‚  Sees Dashboard     â”‚
                    â”‚  (Total Wealth)     â”‚
                    â”‚  â†“                  â”‚
                    â”‚ [BTC $45k â† Card]   â”‚
                    â”‚ [ETH $3k â† Card]    â”‚
                    â”‚ [USDT $5k â† Card]   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                    Easy âœ“      â”‚
                               â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Clicks BTC Card    â”‚
                    â”‚                     â”‚
                    â”‚ Opens Trading View  â”‚
                    â”‚                     â”‚
                    â”‚ Shows:              â”‚
                    â”‚ - Current price     â”‚
                    â”‚ - Chart             â”‚
                    â”‚ - Stats             â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                    Simple âœ“   â”‚
                               â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Enter Amount       â”‚
                    â”‚                     â”‚
                    â”‚ Input: $1000        â”‚
                    â”‚        â†“ Calculates â”‚
                    â”‚ Receive: 0.022 BTC  â”‚
                    â”‚                     â”‚
                    â”‚ Or use quick        â”‚
                    â”‚ buttons: $100,      â”‚
                    â”‚ $500, $1K, Max      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                    Fast âœ“     â”‚
                               â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Click "Buy"        â”‚
                    â”‚                     â”‚
                    â”‚  Order Placed! âœ…   â”‚
                    â”‚  (Instant feedback) â”‚
                    â”‚                     â”‚
                    â”‚  Goes back to       â”‚
                    â”‚  dashboard          â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                    Satisfying âœ“â”‚
                               â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Portfolio Updated  â”‚
                    â”‚                     â”‚
                    â”‚ Now shows:          â”‚
                    â”‚ - BTC: 0.522        â”‚
                    â”‚   (was 0.5)         â”‚
                    â”‚                     â”‚
                    â”‚ Total Wealth now:   â”‚
                    â”‚ $12,500 â†’ $13,500   â”‚
                    â”‚ (increases by $1000)â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

           Total Time: < 30 seconds
           Learning Curve: â­â­â­â­â­ (Very easy)
           Satisfaction: ğŸ¯ High
```

---

## Browser DevTools View

### Console Logs (Debugging)
```javascript
// Expected logs when opening dashboard-invest.html:

âœ“ Dashboard-Invest: Portfolio loaded successfully
âœ“ Dashboard-Invest: Markets loaded (18 assets)
âœ“ Dashboard-Invest: DOM rendered
âœ“ Dashboard-Invest: Auto-refresh started (5s interval)

// When clicking a crypto:

âœ“ Trade Page: Symbol extracted (BTC)
âœ“ Trade Page: Market data loaded ($45,000.00)
âœ“ Trade Page: Portfolio loaded (0.5 BTC)
âœ“ Trade Page: Chart initialized
âœ“ Trade Page: Event listeners ready

// When placing an order:

âœ“ Order submitted (amount: 0.022, symbol: BTC/USDT)
âœ“ API response received (order-123)
âœ“ Order placed successfully
âœ“ Returning to dashboard...
âœ“ Portfolio updated (BTC: 0.522)
```

### Network Tab (API Calls)
```
GET /api/auth/verify          200 OK âœ“
GET /api/trading/portfolio    200 OK âœ“ (assets: {...})
GET /api/trading/markets      200 OK âœ“ (18 markets)
GET /api/trading/markets/BTC/USDT 200 OK âœ“ (price: 45000)
POST /api/trading/orders      200 OK âœ“ (order-id: abc123)
GET /api/trading/portfolio    200 OK âœ“ (updated portfolio)
```

---

## Performance Metrics

```
Page Load Times:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Dashboard-Invest                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ HTML Parse: 50ms                        â”‚
â”‚ CSS Load: 30ms                          â”‚
â”‚ JS Load: 40ms                           â”‚
â”‚ API Calls (parallel): 150ms             â”‚
â”‚ DOM Render: 80ms                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Total: ~350ms                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Trade Page:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HTML Parse: 50ms                        â”‚
â”‚ CSS Load: 30ms                          â”‚
â”‚ JS Load: 40ms                           â”‚
â”‚ Chart.js Load: 100ms                    â”‚
â”‚ API Calls: 100ms                        â”‚
â”‚ Chart Render: 150ms                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Total: ~470ms                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Update Frequency:
- Portfolio refresh: 5 seconds
- Market prices: 5 seconds
- Backend order execution: 10 seconds
- Price updates from CoinGecko: 30 seconds
```

---

## Mobile Responsive Breakpoints

```
Mobile (< 600px)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Dashboard-Invest     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–² Total Wealth       â”‚
â”‚ â–² $12,500.00 USD     â”‚
â”‚                      â”‚
â”‚ Quick Actions:       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ Add  â”‚  â”‚Withdrawâ”‚ â”‚
â”‚ â”‚Money â”‚  â”‚        â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â”‚
â”‚ Portfolio:           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ BTC  0.5         â”‚ â”‚
â”‚ â”‚ $22,500          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ETH  2.0         â”‚ â”‚
â”‚ â”‚ $6,000           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                      â”‚
â”‚ USD Wallet:          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ $5,000.00        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Trade Page:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† BTC      â™¡         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Bitcoin              â”‚
â”‚ BTC/USDT             â”‚
â”‚                      â”‚
â”‚ $45,000.00           â”‚
â”‚ +2.34%               â”‚
â”‚ â€¢ Market Open        â”‚
â”‚                      â”‚
â”‚ [7-day Chart]        â”‚
â”‚                      â”‚
â”‚ 24h High: $46,500    â”‚
â”‚ 24h Low: $44,000     â”‚
â”‚                      â”‚
â”‚ Buy â”‚ Sell           â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚                      â”‚
â”‚ Amount in USD        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚                  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ $100 $500 $1K Max    â”‚
â”‚                      â”‚
â”‚ You will receive:    â”‚
â”‚ 0.0222 BTC           â”‚
â”‚                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚     Buy          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚    Cancel        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Desktop (> 1200px)
Same layout, optimized margins
```

---

## File Size Reference

```
Frontend Files:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
dashboard-invest.html    ~15 KB
trade.html               ~25 KB
js/api-config.js         ~12 KB
css/style.css            ~40 KB (existing)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Total with deps:         ~150 KB (with Chart.js)

Backend Files:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
routes/trading.js        ~8 KB
utils/orderExecutor.js   ~12 KB
prisma/schema.prisma     ~4 KB
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Total:                   ~24 KB
```

---

This visual guide provides a complete architectural overview of the retail investment app design!
